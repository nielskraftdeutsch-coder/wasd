<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Rank Generator</title>
<link href="https://fonts.cdnfonts.com/css/minecraftia" rel="stylesheet">

<style>
body{
    margin:0;
    background:#0b0d10;
    font-family:Segoe UI,sans-serif;
    color:#fff;
    display:flex;
    justify-content:center;
    padding:40px;
}

#app{
    width:900px;
    background:#14161b;
    border:1px solid #2a2d34;
    border-radius:8px;
    padding:25px;
}

h1{
    text-align:center;
    font-weight:400;
    margin-bottom:25px;
}

/* PREVIEW */
.preview{
    background:#000;
    border:1px solid #333;
    border-radius:4px;
    height:170px;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    margin-bottom:25px;
}

.preview span{
    position:absolute;
    top:8px;
    left:10px;
    font-size:12px;
    color:#777;
}

canvas{
    image-rendering:pixelated;
    transform:scale(4);
}

/* UI */
.grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:30px;
}

label{
    font-size:12px;
    color:#888;
    text-transform:uppercase;
}

input{
    width:100%;
    background:#1e2126;
    border:1px solid #333;
    padding:10px;
    color:white;
    border-radius:4px;
    margin-bottom:12px;
}

.toggle{
    display:flex;
    align-items:center;
    gap:8px;
    margin-bottom:10px;
}

button{
    width:100%;
    background:#007bff;
    border:none;
    padding:15px;
    font-weight:bold;
    color:white;
    border-radius:4px;
    cursor:pointer;
}
</style>
</head>

<body>
<div id="app">

<h1>Rank Generator</h1>

<div class="preview">
    <span id="sizeLabel"></span>
    <canvas id="c"></canvas>
</div>

<div class="grid">
    <div>
        <label>Rank Name</label>
        <input id="text" value="CREATOR">

        <label>Text Farbe</label>
        <input id="tCol" value="#ffffff">

        <label>Schatten Farbe</label>
        <input id="sCol" value="#000000aa">

        <div class="toggle">
            <input type="checkbox" id="shadow" checked>
            <label>Shadow</label>
        </div>

        <div class="toggle">
            <input type="checkbox" id="border" checked>
            <label>Border</label>
        </div>
    </div>

    <div>
        <label>Background Farben (oben → unten)</label>
        <input class="bg" value="#3b3b3b">
        <input class="bg" value="#1f1f1f">
    </div>
</div>

<br>
<button onclick="download()">DOWNLOAD PNG</button>

</div>

<script>
const c = document.getElementById("c");
const ctx = c.getContext("2d");

function render(){
    const text = text.value;
    const tColor = tCol.value;
    const sColor = sCol.value;
    const bg = [...document.querySelectorAll(".bg")].map(i=>i.value);
    const drawShadow = shadow.checked;
    const drawBorder = border.checked;

    ctx.font = '8px "Minecraftia"';
    const w = Math.ceil(ctx.measureText(text).width) + 6;
    const h = 10;

    c.width = w;
    c.height = h;

    // Background
    const g = ctx.createLinearGradient(0,0,0,h);
    bg.forEach((c,i)=>g.addColorStop(i/(bg.length-1),c));
    ctx.fillStyle = g;
    ctx.fillRect(0,0,w,h);

    // Border
    if(drawBorder){
        ctx.fillStyle="#555";
        ctx.fillRect(0,0,w,1);
        ctx.fillRect(0,h-1,w,1);
        ctx.fillRect(0,0,1,h);
        ctx.fillRect(w-1,0,1,h);
    }

    // Shadow
    if(drawShadow){
        ctx.fillStyle = sColor;
        ctx.fillText(text,4,9);
    }

    // Text
    ctx.fillStyle = tColor;
    ctx.fillText(text,3,8);

    sizeLabel.textContent = `Final Size: ${w}×${h}px`;
}

function download(){
    const a=document.createElement("a");
    a.download="rank.png";
    a.href=c.toDataURL();
    a.click();
}

document.querySelectorAll("input").forEach(i=>i.oninput=render);
document.fonts.ready.then(render);
</script>

</body>
</html>
