<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Rank Generator</title>

<link href="https://fonts.cdnfonts.com/css/minecraftia" rel="stylesheet">

<style>
body{
    margin:0;
    background:#111;
    font-family:Segoe UI,sans-serif;
    color:#fff;
    display:flex;
    justify-content:center;
    padding:40px;
}

.wrapper{
    width:800px;
    background:#1b1b1b;
    padding:30px;
    border-radius:10px;
}

/* TEXT INPUT OBEN */
input[type="text"]{
    width:250px;
    margin:0 auto 25px auto;
    display:block;
    padding:10px;
    background:#0f0f0f;
    border:1px solid #555;
    color:#5fa8ff;
    text-align:center;
    border-radius:6px;
}

/* PREVIEW */
.preview{
    background:#2a2a2a;
    padding:30px;
    display:flex;
    justify-content:center;
    margin-bottom:30px;
}

canvas{
    image-rendering:pixelated;
    transform:scale(4);
}

/* CONTROLS */
.controls{
    max-width:300px;
    margin:0 auto;
}

.row{
    display:flex;
    justify-content:space-between;
    margin-bottom:15px;
}
</style>
</head>

<body>
<div class="wrapper">

<input id="text" type="text" value="creator">

<div class="preview">
    <canvas id="c"></canvas>
</div>

<div class="controls">
    <div class="row">
        <span>Background</span>
        <input id="bg" type="color" value="#3a3a3a">
    </div>

    <div class="row">
        <span>Text</span>
        <input id="tc" type="color" value="#ffffff">
    </div>

    <div class="row">
        <span>Border</span>
        <input id="border" type="checkbox" checked>
    </div>

    <div class="row">
        <span>Shadow</span>
        <input id="shadow" type="checkbox" checked>
    </div>
</div>

</div>

<script>
const c = document.getElementById("c");
const ctx = c.getContext("2d");

function draw(){
    const t = text.value;
    ctx.font = '8px "Minecraftia"';

    const w = Math.ceil(ctx.measureText(t).width) + 6;
    const h = 10;

    c.width = w;
    c.height = h;

    ctx.fillStyle = bg.value;
    ctx.fillRect(0,0,w,h);

    if(border.checked){
        ctx.fillStyle="#777";
        ctx.fillRect(0,0,w,1);
        ctx.fillRect(0,h-1,w,1);
        ctx.fillRect(0,0,1,h);
        ctx.fillRect(w-1,0,1,h);
    }

    if(shadow.checked){
        ctx.fillStyle="#000a";
        ctx.fillText(t,4,9);
    }

    ctx.fillStyle=tc.value;
    ctx.fillText(t,3,8);
}

document.querySelectorAll("input").forEach(i=>i.oninput=draw);
document.fonts.ready.then(draw);
</script>

</body>
</html>
